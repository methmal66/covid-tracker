(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{194:function(t,e,n){"use strict";n.r(e);var r,c=n(4),o=n(0),a=n.n(o),i=n(7),s=n.n(i),l=n(10),u=n(26),d=[],j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_COUNTRIES":var n=e.payload.map((function(t){return{name:t.country,lat:t.countryInfo.lat,lng:t.countryInfo.long,flag:t.countryInfo.flag,cases:t.cases,newCases:t.todayCases,recovered:t.recovered,newRecovered:t.todayRecovered,deaths:t.deaths,newDeaths:t.todayDeaths}}));return n;default:return t}},h="World Wide",f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_CHOOSEN_COUNTRY":return e.payload;default:return t}},b={},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_GLOBAL":return console.log("global is set"),{cases:e.payload.cases,newCases:e.payload.todayCases,recovered:e.payload.recovered,newRecovered:e.payload.todayRecovered,deaths:e.payload.deaths,newDeaths:e.payload.todayDeaths};default:return t}},v="cases",p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_OPTION":return e.payload;default:return t}},g=n(79),x=Object(u.combineReducers)({countries:j,choosenCountry:f,global:O,option:p}),y=Object(u.createStore)(x,Object(g.composeWithDevTools)()),m=n(227),w=n(229),C=n(224),S=n(80),E=n.n(S),R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=E()(t).format("0,0");return e},T=function(t){var e=R(t);return"+".concat(e)},k=function(t){return R(t).concat("%")},N=function(t){return function(e,n){return e[t]-n[t]}},_=function(t){return{cases:"rgba(255,0,0,0.3)",deaths:"rgba(0,0,255,0.3)",recovered:"rgba(0,255,0,0.3)"}[t]},L=Object(C.a)((function(){return{root:{padding:15,"&:hover":{backgroundColor:"rgba(0,0,0,0,0.05)"}}}})),W=function(t){var e=t.title,n=t._new,r=t.total,o=t.thisOption,a=L(),i=Object(l.b)();return Object(c.jsxs)(m.a,{className:a.root,onClick:function(){i({type:"SET_OPTION",payload:o})},children:[Object(c.jsx)(w.a,{children:e}),Object(c.jsxs)(w.a,{variant:"h5",children:[T(n)," today"]}),Object(c.jsxs)(w.a,{children:[R(r)," total"]})]})},D=n(231),I=n(230),B=n(232),A=n(233),F=function(t){t.lg;var e=Object(l.b)(),n=Object(l.c)((function(t){return t})).choosenCountry;return Object(c.jsx)(I.a,{children:Object(c.jsx)(B.a,{variant:"outlined",value:n,onChange:function(t){return e({type:"SET_CHOOSEN_COUNTRY",payload:t.target.value})},children:Object(l.c)((function(t){var e=t.countries.map((function(t){return t.name}));return e.sort(),e.unshift("World Wide","Sri Lanka"),e})).map((function(t){return Object(c.jsx)(A.a,{value:t,children:t},t)}))})})},H=function(t){var e=t.lg,n=t.xs,r=Object(l.c)((function(t){var e=t.choosenCountry,n=t.countries,r=t.global;return"World Wide"===e?r:n.filter((function(t){return t.name===e}))[0]})),o=r.cases,a=r.newCases,i=r.recovered,s=r.newRecovered,u=r.deaths,d=r.newDeaths;return Object(c.jsxs)(D.a,{item:!0,container:!0,spacing:2,children:[Object(c.jsx)(D.a,{item:!0,lg:e,xs:n,children:Object(c.jsx)(W,{thisOption:"cases",title:"Covid virus cases",_new:a,total:o})}),Object(c.jsx)(D.a,{item:!0,lg:e,xs:n,children:Object(c.jsx)(W,{title:"Recovered",thisOption:"recovered",_new:s,total:i})}),Object(c.jsx)(D.a,{item:!0,lg:e,xs:n,children:Object(c.jsx)(W,{title:"Deaths",thisOption:"deaths",_new:d,total:u})}),Object(c.jsx)(D.a,{item:!0,lg:e,xs:n,children:Object(c.jsx)(F,{})})]})},U=(n(98),n(5)),M=Object(C.a)((function(){return{root:{width:1,height:1,borderRadius:"50%"}}})),P=function(t){var e=t.lat,n=t.lng,r=t.style,o=M();return Object(c.jsx)("div",{lat:e,lng:n,children:Object(c.jsx)("div",{className:Object(U.a)(o.root,r)})})},Y=n(84),J={root:{height:"640px"}},K=function(t){var e=t.lg,n=t.xs,o=Object(l.c)((function(t){var e=t.choosenCountry;"World Wide"===t.choosenCountry&&(e="Sri Lanka");var n=t.countries.filter((function(t){return t.name===e}))[0];return n?{lat:n.lat,lng:n.lng}:{lat:7,lng:81}})),a=Object(l.c)((function(t){var e=t.countries;return r=t.option,e.sort(N(r)).reverse(),e}));a.forEach((function(t){var e=a[0][r],n=t[r],c=n/e*500;t.diameter=c;var o=_(r);J[t.diameter]={transform:"scale(".concat(t.diameter,")"),backgroundColor:o}}));var i=Object(C.a)((function(){return J}))(),s=a.map((function(t){return Object(c.jsx)(P,{style:i[t.diameter],lat:t.lat,lng:t.lng})}));return Object(c.jsx)(D.a,{item:!0,lg:e,xs:n,children:Object(c.jsx)("div",{className:i.root,children:Object(c.jsx)(Y.a,{bootstrapURLKeys:{key:"AIzaSyB14xbMSEg46WaKyjJo1cufzAxRS36hFhQ"},defaultCenter:o,defaultZoom:3,children:s})})})},z=n(83),G=n(82),Q=function(){var t=Object(o.useState)([]),e=Object(z.a)(t,2),n=e[0],r=e[1],a=Object(l.c)((function(t){return t})).option,i={datasets:[{data:n,backgroundColor:_(a),pointBackgroundColor:"#fff",pointBorderWidth:0,pointRadius:0,pointHoverRadius:5,pointHoverBackgroundColor:_(a),pointHoverBorderWidth:0}]},s={legend:{display:!1},elements:{point:{radius:0}},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(t,e){return k(t.value)}}},scales:{xAxes:[{type:"time",time:{format:"MM/DD/YY",tooltipFormat:"ll"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(t,e,n){return k(t)}}}]}};return Object(o.useEffect)((function(){fetch("https://www.disease.sh/v3/covid-19/historical/all?lastdays=100").then((function(t){return t.json()})).then((function(t){var e=t[a];r(function(t){for(var e=[],n=Object.entries(t),r=2;r<n.length;r++){var c=(n[r-1][1]-n[r-2][1])/(n[r][1]-n[r-1][1])*100,o={x:n[r][0],y:c};e.push(o)}return e}(e))}))}),[a]),Object(c.jsx)("div",{children:Object(c.jsx)(G.Line,{data:i,options:s})})},V=Object(C.a)((function(t){return{root:{height:"638px"},table:{margin:"5px",height:"440px",overflow:"scroll"},row:{display:"flex",justifyContent:"space-between","&:nth-child(even)":{backgroundColor:"#f2f2f2"}}}})),Z=function(t){var e=t.lg,n=t.xs,r=V(),a=Object(l.c)((function(t){return t})).option;Object(o.useEffect)((function(){}),[a]);var i=Object(l.c)((function(t){var e=t.countries.map((function(t){return{name:t.name,total:t[a]}})),n=N(t.option);return e.sort(n),e}));return Object(c.jsx)(D.a,{item:!0,lg:e,xs:n,children:Object(c.jsxs)(m.a,{className:r.root,children:[Object(c.jsx)("h3",{children:"Live cases by country"}),Object(c.jsx)("div",{className:r.table,children:i.map((function(t){return Object(c.jsxs)("tr",{className:r.row,children:[Object(c.jsx)("td",{children:t.name}),Object(c.jsx)("td",{children:R(t.total)})]})}))}),Object(c.jsx)("span",{children:"daily growth"}),Object(c.jsx)(Q,{})]})})},q=Object(C.a)((function(t){return{root:{width:"85%"},title:{margin:20}}})),X=function(){var t=q(),e=Object(l.b)();return Object(o.useEffect)((function(){fetch("https://www.disease.sh/v3/covid-19/countries").then((function(t){return t.json()})).then((function(t){return e(function(t){return{type:"SET_COUNTRIES",payload:t}}(t))})),fetch("https://www.disease.sh/v3/covid-19/all").then((function(t){return t.json()})).then((function(t){return e(function(t){return{type:"SET_GLOBAL",payload:t}}(t))}))}),[]),Object(c.jsxs)("center",{children:[Object(c.jsx)(w.a,{variant:"h4",className:t.title,children:"COVID-19 TRACKER"}),Object(c.jsxs)(D.a,{container:!0,spacing:2,className:t.root,children:[Object(c.jsx)(H,{lg:3,xs:6}),Object(c.jsx)(K,{lg:9,xs:12}),Object(c.jsx)(Z,{lg:3,xs:12})]})]})},$=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,235)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),r(t),c(t),o(t),a(t)}))};s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(l.a,{store:y,children:Object(c.jsx)(X,{})})}),document.getElementById("root")),$()}},[[194,1,2]]]);
//# sourceMappingURL=main.eac7ada2.chunk.js.map